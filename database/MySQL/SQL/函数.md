
---

# 1. 字符串函数（String Functions）

| 函数                                        | 作用      | 示例                                                  |
| ----------------------------------------- | ------- | --------------------------------------------------- |
| `CONCAT(s1,s2,...)`                       | 拼接字符串   | `CONCAT('My','SQL') → 'MySQL'`                      |
| `CONCAT_WS(sep,s1,s2,...)`                | 用分隔符拼接  | `CONCAT_WS('-', '2025', '08', '12') → '2025-08-12'` |
| `SUBSTRING(str,pos,len)` / `SUBSTR()`     | 截取子串    | `SUBSTRING('abcdef', 2, 3) → 'bcd'`                 |
| `LEFT(str,len)`                           | 从左截取    | `LEFT('abcdef', 3) → 'abc'`                         |
| `RIGHT(str,len)`                          | 从右截取    | `RIGHT('abcdef', 2) → 'ef'`                         |
| `LENGTH(str)`                             | 字节长度    | `LENGTH('abc') → 3`（UTF8 汉字是3字节）                    |
| `CHAR_LENGTH(str)` / `CHARACTER_LENGTH()` | 字符长度    | `CHAR_LENGTH('中国') → 2`                             |
| `LOWER(str)` / `LCASE()`                  | 转小写     | `LOWER('ABC') → 'abc'`                              |
| `UPPER(str)` / `UCASE()`                  | 转大写     | `UPPER('abc') → 'ABC'`                              |
| `TRIM([[BOTH                              | LEADING | TRAILING] remstr FROM] str)`                        |
| `LPAD(str,len,padstr)`                    | 左填充     | `LPAD('abc', 5, '0') → '00abc'`                     |
| `RPAD(str,len,padstr)`                    | 右填充     | `RPAD('abc', 5, '*') → 'abc**'`                     |
| `REPLACE(str,from_str,to_str)`            | 替换      | `REPLACE('abcabc','a','A') → 'AbcAbc'`              |
| `REVERSE(str)`                            | 翻转字符串   | `REVERSE('abc') → 'cba'`                            |
## 2. 数值函数（Numeric Functions）

| 函数                       | 作用        | 示例                                   |
| ------------------------ | --------- | ------------------------------------ |
| `ABS(x)`                 | 绝对值       | `ABS(-5) → 5`                        |
| `CEIL(x)` / `CEILING(x)` | 向上取整      | `CEIL(4.2) → 5`                      |
| `FLOOR(x)`               | 向下取整      | `FLOOR(4.8) → 4`                     |
| `ROUND(x,d)`             | 四舍五入      | `ROUND(3.1416, 2) → 3.14`            |
| `TRUNCATE(x,d)`          | 截断        | `TRUNCATE(3.1416, 2) → 3.14`         |
| `MOD(x,y)` / `x % y`     | 取余        | `MOD(10,3) → 1`                      |
| `POWER(x,y)` / `POW()`   | 幂运算       | `POWER(2,3) → 8`                     |
| `SQRT(x)`                | 平方根       | `SQRT(9) → 3`                        |
| `RAND()`                 | [0, 1)随机数 | `RAND() → 0.12345` `0 <= RAND() < 1` |

---

## 3. 日期时间函数（Date & Time Functions）

| 函数                                             | 作用     | 示例                                                                 |
| ---------------------------------------------- | ------ | ------------------------------------------------------------------ |
| `NOW()` / `CURRENT_TIMESTAMP()`                | 当前日期时间 | `2025-08-12 15:30:00`                                              |
| `CURDATE()` / `CURRENT_DATE()`                 | 当前日期   | `2025-08-12`                                                       |
| `CURTIME()` / `CURRENT_TIME()`                 | 当前时间   | `15:30:00`                                                         |
| `DATE(expr)`                                   | 取日期部分  | `DATE('2025-08-12 15:30:00') → '2025-08-12'`                       |
| `TIME(expr)`                                   | 取时间部分  | `TIME('2025-08-12 15:30:00') → '15:30:00'`                         |
| `YEAR(date)` / `MONTH(date)` / `DAY(date)`     | 年、月、日  | `YEAR('2025-08-12') → 2025`                                        |
| `HOUR(time)` / `MINUTE(time)` / `SECOND(time)` | 时分秒    | `HOUR('15:30:00') → 15`                                            |
| `DATE_ADD(date,INTERVAL expr unit)`            | 日期加    | `DATE_ADD('2025-08-12', INTERVAL 5 DAY) → '2025-08-17'`            |
| `DATE_SUB(date,INTERVAL expr unit)`            | 日期减    | `DATE_SUB('2025-08-12', INTERVAL 1 MONTH) → '2025-07-12'`          |
| `DATEDIFF(date1,date2)`                        | 相差天数   | `DATEDIFF('2025-08-12','2025-08-10') → 2`                          |
| `TIMESTAMPDIFF(unit,datetime1,datetime2)`      | 按单位差值  | `TIMESTAMPDIFF(MINUTE,'2025-08-10 10:00','2025-08-10 11:00') → 60` |

---

## 4. 聚合函数（Aggregate Functions）

|函数|作用|示例|
|---|---|---|
|`COUNT(*)`|行数|`COUNT(*) → 10`|
|`SUM(col)`|求和|`SUM(price) → 1000`|
|`AVG(col)`|平均|`AVG(score) → 85.5`|
|`MAX(col)`|最大值|`MAX(salary) → 20000`|
|`MIN(col)`|最小值|`MIN(salary) → 3000`|
|`GROUP_CONCAT(col)`|拼接组内值|`GROUP_CONCAT(name) → 'Tom,Alice,Bob'`|

---

## 5. 条件与流程函数（Conditional & Flow Control）

|函数|作用|示例|
|---|---|---|
|`IF(expr,v1,v2)`|条件判断|`IF(score>=60,'Pass','Fail')`|
|`IFNULL(expr,v)`|NULL 替换|`IFNULL(nickname,'NoName')`|
|`NULLIF(v1,v2)`|相等返回 NULL|`NULLIF(5,5) → NULL`|
|`CASE WHEN ... THEN ... ELSE ... END`|多条件判断|`CASE WHEN score>=90 THEN 'A' WHEN score>=60 THEN 'B' ELSE 'C' END`|

---

## 6. 加密与哈希函数（Encryption & Hash）

|函数|作用|示例|
|---|---|---|
|`MD5(str)`|MD5 哈希|`MD5('abc') → '900150983cd24fb0...'`|
|`SHA1(str)`|SHA-1 哈希|`SHA1('abc') → 'a9993e364706816...'`|
|`SHA2(str,256)`|SHA-2 哈希|`SHA2('abc',256) → '...'`|
|`PASSWORD(str)`|MySQL 内部加密（不推荐业务用）|`PASSWORD('abc')`|

---

## 7. 系统信息函数（System Information）

|函数|作用|示例|
|---|---|---|
|`VERSION()`|MySQL 版本|`8.0.37`|
|`USER()` / `CURRENT_USER()`|当前登录用户|`'root@localhost'`|
|`DATABASE()`|当前数据库|`mydb`|
|`LAST_INSERT_ID()`|最近插入的自增ID|`5`|
|`ROW_COUNT()`|影响行数|`10`|

---

## 8. JSON 函数（MySQL 5.7+）

| 函数                        | 作用         | 示例                                   |
| ------------------------- | ---------- | ------------------------------------ |
| `JSON_OBJECT(k,v,...)`    | 构造 JSON 对象 | `JSON_OBJECT('name','Tom','age',20)` |
| `JSON_ARRAY(v1,v2,...)`   | 构造 JSON 数组 | `JSON_ARRAY('a','b','c')`            |
| `JSON_EXTRACT(json,path)` | 取值         | `JSON_EXTRACT('{"a":1}', '$.a') → 1` |
| `JSON_SET(json,path,val)` | 设置值        | `JSON_SET('{"a":1}', '$.a', 2)`      |