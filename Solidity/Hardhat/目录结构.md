# HardHat é¡¹ç›®åˆ†æ

![[Pasted image 20250417000245.png]]

## 1ï¸âƒ£ `contracts/`

è¿™ä¸ªç›®å½•å­˜æ”¾çš„æ˜¯ **Solidity æ™ºèƒ½åˆçº¦æºç **ã€‚  
é€šå¸¸ `.sol` ç»“å°¾çš„æ–‡ä»¶éƒ½æ”¾è¿™é‡Œã€‚

æ¯”å¦‚ï¼š

```pgsql
contracts/
 â”œâ”€â”€ MyToken.sol
 â”œâ”€â”€ Marketplace.sol
```

è¿™é‡Œçš„ä»£ç ä¼šè¢« `hardhat compile` ç¼–è¯‘ï¼Œç”Ÿæˆ `.json` çš„ ABI å’Œå­—èŠ‚ç ï¼Œä¾›éƒ¨ç½²å’Œè°ƒç”¨ç”¨ã€‚

---

### 2ï¸âƒ£ `ignition/`

è¿™ä¸ªç›®å½•æ˜¯ Hardhat ç”Ÿæ€ä¸­æ–°å¼•å…¥çš„ï¼Œä¸“é—¨ç”¨äº **éƒ¨ç½²è„šæœ¬**ã€‚

ä¸€èˆ¬æ¥è¯´ï¼š

- `ignition/modules/` ç›®å½•ä¸‹æ˜¯æ¨¡å—åŒ–çš„éƒ¨ç½²é€»è¾‘ã€‚

- ç”¨ TypeScript æˆ– JavaScript å†™ï¼Œæè¿°åˆçº¦å¦‚ä½•éƒ¨ç½²ã€ç”¨å“ªäº›å‚æ•°ç­‰ã€‚

ä¾‹å¦‚ï¼š

```ts
// ignition/modules/MyTokenModule.ts
import { buildModule } from "@nomicfoundation/ignition-core";

const MyTokenModule = buildModule("MyTokenModule", (m) => {
  const token = m.contract("MyToken", ["My Token", "MTK"]);
  return { token };
});

export default MyTokenModule;
```

ğŸ”¥ ä¼˜åŠ¿ï¼šæ¯”ä¼ ç»Ÿçš„ `scripts/deploy.js` æ›´è§„èŒƒï¼Œæ›´è‡ªåŠ¨åŒ–ï¼Œèƒ½è®°å½•éƒ¨ç½²å†å²ï¼Œé€‚é…å¤šç½‘ç»œéƒ¨ç½²ã€‚

---

### 3ï¸âƒ£ `test/`

è¿™ä¸ªç›®å½•æ”¾çš„å°±æ˜¯ **æµ‹è¯•ä»£ç **ï¼Œä¸€èˆ¬ç”¨ JavaScript / TypeScript / ethers.js + chai å†™çš„ã€‚

ç»“æ„å¤§æ¦‚è¿™æ ·ï¼š

bash

å¤åˆ¶ç¼–è¾‘

`test/ â”œâ”€â”€ MyToken.test.js â”œâ”€â”€ Marketplace.test.js`

æµ‹è¯•å†…å®¹é€šå¸¸æ˜¯ï¼š

- éƒ¨ç½²åˆçº¦

- è°ƒç”¨å‡½æ•°

- éªŒè¯é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼ˆç”¨ `expect` æ–­è¨€ï¼‰ã€‚

|æ–‡ä»¶å¤¹|ä½œç”¨|
|---|---|
|`contracts/`|æ™ºèƒ½åˆçº¦æºç  (Solidity æ–‡ä»¶)|
|`ignition/`|éƒ¨ç½²è„šæœ¬ï¼Œæ¨¡å—åŒ–éƒ¨ç½²é€»è¾‘|
|`test/`|æµ‹è¯•ä»£ç ï¼ŒéªŒè¯åˆçº¦åŠŸèƒ½æ˜¯å¦æ­£ç¡®|

---

### 4ï¸âƒ£ `artifacts/`

è¿™æ˜¯ **ç¼–è¯‘äº§ç‰©ç›®å½•**ï¼Œç”± `hardhat compile` è‡ªåŠ¨ç”Ÿæˆã€‚

é‡Œé¢å­˜å‚¨æ¯ä¸ªåˆçº¦ç¼–è¯‘åçš„ï¼š

- ABIï¼ˆæ¥å£ï¼‰

- Bytecodeï¼ˆå­—èŠ‚ç ï¼‰

- Metadataï¼ˆå…ƒä¿¡æ¯ï¼‰

![[Pasted image 20250417001400.png]]
![[Pasted image 20250417001419.png]]

---

### 5ï¸âƒ£ `cache/`

è¿™æ˜¯ **ç¼–è¯‘ç¼“å­˜ç›®å½•**ã€‚

å½“ä½ æ‰§è¡Œ `hardhat compile` æ—¶ï¼š

- å¦‚æœä»£ç æ²¡å˜ï¼ŒHardhat ä¸ä¼šé‡å¤ç¼–è¯‘ã€‚

- ä¼šæ ¹æ® `cache` æ–‡ä»¶åˆ¤æ–­åˆçº¦æ˜¯å¦å·²ç»æ˜¯æœ€æ–°ã€‚

ç»“æ„ï¼š

```pgsql
cache/
â”œâ”€â”€ solidity-files-cache.json
```

> âœ… ä½œç”¨ï¼š**æå‡ç¼–è¯‘é€Ÿåº¦**ã€‚  
> å¯ä»¥ç†è§£ä¸º Solidity ç¼–è¯‘çš„ç¼“å­˜ï¼Œåˆ é™¤åä¼šé‡æ–°å…¨é‡ç¼–è¯‘ã€‚

---

### 6ï¸âƒ£ `typechain-types/`

å¦‚æœä½ ç”¨ `TypeChain` + `TypeScript`ï¼Œè¿™é‡Œä¼šè‡ªåŠ¨ç”Ÿæˆï¼š

- åˆçº¦ç±»å‹å£°æ˜ã€‚

- åˆçº¦è°ƒç”¨æ—¶çš„è‡ªåŠ¨ç±»å‹æç¤ºã€‚

ä¸¾ä¾‹ï¼š
ä½ çš„ `MyToken.sol` æœ‰æ–¹æ³•ï¼š

```solidity
function name() public view returns (string memory)
```

ç”Ÿæˆåçš„ TypeScript ç±»å‹ï¼š

```ts
export interface MyToken extends BaseContract {
 functions: {
  name(overrides?: CallOverrides): Promise<[string]>;
 }; 
}
```

è¿™æ ·åœ¨ä»£ç é‡Œè°ƒç”¨æ—¶ï¼ŒVSCode ä¼šè‡ªåŠ¨è¡¥å…¨ï¼Œä¸ç”¨çŒœå‡½æ•°åã€å‚æ•°ç±»å‹ã€‚

---

|æ–‡ä»¶å¤¹|ä½œç”¨|æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ|
|---|---|---|
|`artifacts/`|ç¼–è¯‘äº§ç‰©ï¼ˆABIã€å­—èŠ‚ç ã€Metadataï¼‰|âœ”ï¸ ç¼–è¯‘ç”Ÿæˆ|
|`cache/`|ç¼–è¯‘ç¼“å­˜ï¼ŒåŠ é€Ÿé‡å¤ç¼–è¯‘|âœ”ï¸ ç¼–è¯‘ç”Ÿæˆ|
|`typechain-types/`|è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹ï¼Œä¿è¯åˆçº¦è°ƒç”¨ç±»å‹å®‰å…¨|âœ”ï¸ ç”¨ TypeChain åç”Ÿæˆ|

## Summary

`contracts` æ˜¯æºç ï¼Œ  
`artifacts` å’Œ `cache` æ˜¯ç¼–è¯‘ä¸­é—´äº§ç‰©ï¼Œ  
`typechain-types` æ˜¯ TypeScript çš„ç±»å‹è¾…åŠ©ï¼Œ  
`ignition` è´Ÿè´£éƒ¨ç½²ï¼Œ  
`test` è´Ÿè´£æµ‹è¯•ã€‚
